<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dreamtale (Prototype)</title>
  <link rel="stylesheet" href="style.css?v=9" />
</head>
<body>

  <!-- Title Screen -->
  <div id="titleScreen" class="overlay show">
    <div class="panel">
      <h1 class="logo">Dreamtale</h1>
      <p class="subtitle">Prototype ‚Äî tap-to-move RPG</p>
      <div class="menu">
        <button id="btnStart" class="btn primary">‚ñ∂ Inizia</button>
        <button id="btnOptions" class="btn">‚öôÔ∏è Opzioni</button>
        <button id="btnReset" class="btn danger">üóë Reset Salvataggio</button>
      </div>
      <div id="optionsBox" class="options hidden">
        <label><input type="checkbox" id="optSfx" checked> Effetti sonori (placeholder)</label>
        <label><input type="checkbox" id="optPathHighlight"> Evidenzia percorso (debug)</label>
      </div>
    </div>
  </div>

  <!-- HUD stile Nostale -->
  <div id="hudNostale">
    <div class="charbox">
      <div class="portrait"></div>
      <div class="bars">
        <div class="bar hp"><span id="hptext">100/100</span><div id="hpfill"></div></div>
        <div class="bar mp"><span id="mptext">100/100</span><div id="mpfill"></div></div>
        <div class="info">
          <span>LV <strong id="lvl">1</strong></span>
          <span>ü™ô <strong id="coins">0</strong></span>
          <span>üçµ <strong id="pots">0</strong></span>
        </div>
      </div>
    </div>
    <div class="quickbar">
      <button class="slot">I</button><button class="slot">II</button>
      <button class="slot">III</button><button class="slot">IV</button>
      <button class="slot">V</button>
    </div>
  </div>

  <!-- Barra laterale destra: minimappa + quest -->
  <aside id="sidebar">
    <canvas id="minimap" width="120" height="120" aria-label="Minimappa"></canvas>
    <div id="questPanel">
      <h3>Quest</h3>
      <div class="quest">
        <div class="q-title">Raccogli 10 monete</div>
        <div class="q-progress"><div id="qfill"></div></div>
        <div class="q-meta">Prog: <span id="qcount">0</span>/10 ‚Ä¢ Ricompensa: +30 EXP</div>
      </div>
    </div>
  </aside>

  <main>
    <div id="wrap">
      <canvas id="game" width="640" height="640"></canvas>
      <p class="note">Tocca una casella per muoverti. Tappa uno slime adiacente per attaccarlo.</p>
    </div>
  </main>

  <!-- EXP bar a tutta larghezza -->
  <div id="expBar">
    <div id="xpfill"></div>
    <span id="xptext">EXP 0%</span>
  </div>

  <!-- Overlay Morte -->
  <div id="deathScreen" class="overlay">
    <div class="panel">
      <h2 class="logo">Sei Morto</h2>
      <p class="subtitle">Hai perso il 10% delle monete. Vuoi respawnare?</p>
      <div class="menu">
        <button id="btnRespawn" class="btn primary">‚Üª Respawn</button>
        <button id="btnMenu" class="btn">‚ò∞ Torna al Menu</button>
      </div>
    </div>
  </div>

  <script src="game.js?v=9"></script>
</body>
</html>
